import{i as b}from"./http-b3c12b6b.js";import{d as v,l as h,e as V,f as e,h as o,w,S as c,r as m,o as E,n as d,an as g}from"./index-d6314024.js";import{v as y}from"./v4-a960c1f4.js";const k={class:"container"},x={class:"w-50 shadow bg-light mx-auto p-4 rounded-5"},C=e("h2",{clsaa:"text-center"},"註冊",-1),B={class:"mb-3"},F=e("label",{for:"姓名",class:"form-label"},"姓名",-1),U={class:"mb-3"},q=e("label",{for:"Email",class:"form-label"},"Email",-1),N={class:"mb-3"},R=e("label",{for:"密碼",class:"form-label"},"密碼",-1),S={class:"mb-5"},M=e("label",{for:"手機號碼",class:"form-label"},"手機號碼",-1),P=["disabled"],A=v({__name:"RegisterPage",setup(j){const u=g(),l=h({uuid:y(),name:"",email:"",password:"",phone:""}),p=async()=>{try{document.cookie="";const a="/signup";await b.post(a,l.value),c.fire({icon:"success",title:"成功註冊，請重新登入",confirmButtonColor:"#7fbcd2"}),u.push("/login")}catch(a){a instanceof Error&&c.fire({icon:"error",title:"註冊失敗",confirmButtonColor:"#cb7d56"})}},f=a=>a?/^(09)[0-9]{8}$/.test(a)?!0:"需要正確的手機號碼":"手機號碼 為必填";return(a,s)=>{const i=m("VField"),r=m("ErrorMessage"),_=m("VForm");return E(),V("div",k,[e("div",x,[C,o(_,{onSubmit:p},{default:w(({errors:n})=>[e("div",B,[F,o(i,{type:"text",class:d(["form-control",{"is-invalid":n.姓名}]),id:"姓名",name:"姓名",placeholder:"請輸入姓名",rules:"required",modelValue:l.value.name,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value.name=t)},null,8,["class","modelValue"]),o(r,{name:"姓名",class:"invalid-feedback"})]),e("div",U,[q,o(i,{type:"mail",class:d(["form-control",{"is-invalid":n.Email}]),id:"Email",name:"Email",placeholder:"請輸入 Email",rules:"email|required",modelValue:l.value.email,"onUpdate:modelValue":s[1]||(s[1]=t=>l.value.email=t)},null,8,["class","modelValue"]),o(r,{name:"Email",class:"invalid-feedback"})]),e("div",N,[R,o(i,{type:"password",class:d(["form-control",{"is-invalid":n.密碼}]),id:"密碼",name:"密碼",placeholder:"請輸入密碼",rules:"required|min:8",modelValue:l.value.password,"onUpdate:modelValue":s[2]||(s[2]=t=>l.value.password=t)},null,8,["class","modelValue"]),o(r,{name:"密碼",class:"invalid-feedback"})]),e("div",S,[M,o(i,{type:"tel",class:d(["form-control",{"is-invalid":n.手機號碼}]),id:"手機號碼",name:"手機號碼",placeholder:"請輸入手機號碼",rules:f,modelValue:l.value.phone,"onUpdate:modelValue":s[3]||(s[3]=t=>l.value.phone=t)},null,8,["class","modelValue"]),o(r,{name:"手機號碼",class:"invalid-feedback"})]),e("button",{type:"submit",class:"btn btn-primary w-100",disabled:Object.keys(n).length>0},"送出",8,P)]),_:1})])])}}});export{A as default};
